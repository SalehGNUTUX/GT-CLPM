#!/bin/bash

# مشغل نسخة AppImage لبرنامج GT-CLPM الطرفي

APPDIR="$(dirname "$(readlink -f "$0")")"
EXEC="$APPDIR/usr/bin/gt-clpm-cli"

TERMINALS=(
    "gnome-terminal -- bash -c"
    "xfce4-terminal -e"
    "konsole -e"
    "xterm -e"
    "lxterminal -e"
    "tilix -e"
    "mate-terminal -e"
    "terminator -x"
)

for term in "${TERMINALS[@]}"; do
    CMD=$(echo "$term" | awk '{print $1}')
    if command -v "$CMD" &> /dev/null; then
        eval "$term \"$EXEC\""
        exit $?
    fi
done

zenity --error --title="GT-CLPM" --text="تعذّر العثور على طرفية لبدء التطبيق. يرجى تشغيله من الطرفية يدويًا."
exit 1
